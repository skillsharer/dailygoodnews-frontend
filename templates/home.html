{% extends "base.html" %}

{% block title %}Daily Good News{% endblock %}

{% block extra_css %}
<style>
    /* Home-specific hero section styles - prevent layout shift */
    #hero-section.hidden {
        display: none !important;
        transition: opacity 0.3s ease;
    }
    
    #main-content.visible {
        opacity: 1 !important;
        transform: translateY(0) !important;
        padding-top: 100px !important;
    }
    
    .featured-news.shifted {
        margin-top: 120px !important;
    }
    
    /* Smooth highlight effect for first news card */
    .news-card:first-child {
        position: relative;
        z-index: 1;
    }
    
    /* Remove conflicting smooth scroll behavior */
</style>
{% endblock %}

{% block content %}
    <div id="hero-section" class="parallax">
        <div class="hero-overlay">
            <h1 class="hero-title">Discover the Good in Every Day</h1>
            <p class="hero-subtitle">Because what you consume really does matter</p>
            <a href="#" class="cta-button" id="explore-now">Explore Now</a>
        </div>
    </div>
    <div id="main-content">
        <section class="featured-news" aria-labelledby="top-stories-heading">
            <h2 id="top-stories-heading" class="section-title">Top Stories</h2>
            <div class="content-grid news-grid" id="news-grid">
                {% for news in news_list %}
                <article class="card news-card" data-index="{{ loop.index0 }}" role="article">
                    <a href="/news/{{ news.slug }}" class="card-link news-card-link" aria-describedby="news-{{ loop.index0 }}-title">
                        <div class="image-wrapper">
                            {% if news.image %}
                                <img src="{{ news.image }}" alt="{{ news.heading }}" class="card-image news-card-image">
                            {% endif %}
                            <div class="card-content news-card-content">
                                <h3 id="news-{{ loop.index0 }}-title" class="card-title news-card-title">{{ news.heading }}</h3>
                                {% if news.image %}
                                    <div class="card-description news-card-description">{{ news.article|sanitize_html|safe|truncate(200) }}</div>
                                {% else %}
                                    <div class="card-description news-card-description">{{ news.article|sanitize_html|safe|truncate(400) }}</div>
                                {% endif %}
                                <div class="read-more" aria-label="Read more about {{ news.heading }}">Read More</div>
                            </div>
                        </div>
                    </a>
                </article>
                {% endfor %}
            </div>
            {% if news_list|length > 2 %}
            <div class="view-more-container">
                <button id="view-more-btn" class="view-more-btn">
                    View More Stories
                    <span class="view-more-icon">â†“</span>
                </button>
            </div>
            {% endif %}
        </section>
        <!--
        <section class="newsletter-signup">
            <h2>Stay Updated</h2>
            <p>Subscribe to our newsletter for the latest uplifting stories</p>
            <form class="signup-form">
                <input type="email" placeholder="Enter your email" required class="email-input">
                <button type="submit" class="subscribe-button">Subscribe</button>
            </form>
        </section>
        -->
    </div>

{% endblock %}